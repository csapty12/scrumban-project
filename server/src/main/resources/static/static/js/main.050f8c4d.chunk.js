(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){},177:function(e,t,a){e.exports=a(387)},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},383:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(27),o=a.n(i),c=(a(182),a(5)),l=a(8),s=a(10),d=a(9),m=a(11),p=(a(183),a(184),a(16)),u=a(75),h=a.n(u),f=a(76),b=a.n(f),j=a(77),g=a.n(j),v=a(162),E=a.n(v),y=a(15),O=a.n(y),k=a(164),w=a.n(k),C=a(163),D=a.n(C),S=a(48),N=a.n(S),T=a(388),P=a(47),I=a(38),x=a(29),A=a.n(x),L=a(31),F=a.n(L),B=a(33),R=a.n(B),M=a(32),W=a.n(M),V=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(c.a)(this,e),this.id=t,this.projectName=a,this.projectIdentifier=n,this.description=r,this.createdAt=i},_=a(24),q=a.n(_),z=a(43),U=a.n(z),J=a(44),X=a.n(J),H=a(35),Y=a.n(H);var G=Object(p.withStyles)(function(e){return{appBar:{position:"relative",backgroundColor:"#2196F3"}}})(function(e){var t=e.classes;return r.a.createElement(U.a,{className:t.appBar},r.a.createElement(X.a,null,r.a.createElement(Y.a,{variant:"h6",color:"inherit"},e.type," Project")))}),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=Object(I.a)({},a.state.project);t[e.target.name]=e.target.value,a.setState({project:t})},a.handleSubmit=function(e){e.preventDefault();var t=new V,n=a.state.project,r=n.projectName,i=n.description,o=n.createdAt;if("Create"===a.props.type)t.projectName=r,t.description=i,t.createdAt=o,t.projectIdentifier=a.slugifyProjectName(r),a.saveNewProject(t);else{var c=a.props.projectInfo,l=c.id,s=c.projectIdentifier,d=c.projectName,m=c.description,p=c.createdAt;t.id=l,t.projectIdentifier=s,t.projectName=a.state.project.projectName?a.state.project.projectName:d,t.description=a.state.project.description?a.state.project.description:m,t.createdAt=a.state.project.createdAt?a.state.project.createdAt:p,a.updateProjectInformation(t)}},a.state={isDialogActive:!0,project:new V,errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"slugifyProjectName",value:function(e){return e.split(" ").join("-")}},{key:"updateProjectInformation",value:function(e){var t=this;q.a.patch("http://localhost:8080/api/project",e).then(function(e){t.props.updateProjectInfo(e.data),t.props.onClose()}).catch(function(e){console.log("json response : "+JSON.stringify(e.response.data)),t.setState({errors:{projectName:e.response.data.projectName,description:e.response.data.description}})})}},{key:"saveNewProject",value:function(e){var t=this;q.a.post("http://localhost:8080/api/project",e).then(function(e){t.props.updateAllProjects([].concat(Object(P.a)(t.props.allProjects),[e.data]))}).then(function(){t.props.onClose()}).catch(function(e){var a=e.response.data,n=a.description,r=a.projectName;t.setState({errors:{projectName:r,description:n}})})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.projectInfo,n=this.state.errors;return r.a.createElement(F.a,{open:this.state.isDialogActive,onClose:this.props.onClose,"aria-labelledby":"form-dialog-title",scroll:"paper",fullWidth:!0,maxWidth:"md"},r.a.createElement(G,{type:this.props.type}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(W.a,null,r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",name:"projectName",label:"Project Name",type:"text",fullWidth:!0,onChange:this.handleChange,defaultValue:void 0===a?"":a.projectName}),n.projectName&&r.a.createElement("span",{className:t.error},n.projectName),r.a.createElement(A.a,{id:"standard-multiline-static",name:"description",label:"Project Description",multiline:!0,rows:"4",margin:"normal",fullWidth:!0,onChange:this.handleChange,defaultValue:void 0===a?"":a.description}),n.description&&r.a.createElement("span",{className:t.error},n.description)),r.a.createElement(R.a,null,r.a.createElement(O.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(O.a,{color:"primary",type:"submit"},this.props.type))))}}]),t}(n.Component),K=Object(p.withStyles)(function(e){return{error:{color:"red",fontSize:12}}})($),Q=a(73),Z=a.n(Q),ee=a(74),te=a.n(ee),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleDeleteProjectActiveDialog=function(){a.setState({isDeleteDialogActive:!1})},a.handleDeleteProject=function(e){a.props.handleDeleteProject(e),a.handleDeleteProjectActiveDialog()},a.state={isDeleteDialogActive:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{open:this.state.isDeleteDialogActive,onClose:this.handleDeleteProjectActiveDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Z.a,{id:"alert-dialog-title"},"Delete Project"),r.a.createElement(W.a,null,r.a.createElement(te.a,{id:"alert-dialog-description"},"Are you sure you want to delete:"," "+this.props.project.projectName)),r.a.createElement(R.a,null,r.a.createElement(O.a,{onClick:this.handleDeleteProjectActiveDialog,color:"primary"},"No"),r.a.createElement(O.a,{onClick:this.handleDeleteProject.bind(this,this.props.project),color:"primary",autoFocus:!0},"Yes")))}}]),t}(n.Component),ne=Object(p.withStyles)(function(e){return{}})(ae),re=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleOpenMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleCloseMenuClick=function(e){a.setState({anchorEl:null})},a.handleDeleteProject=function(e){a.props.deleteProject(e)},a.handleDeleteProjectClick=function(e){a.setState({deleteProject:e.currentTarget})},a.handleUpdateProjectClick=function(e){a.setState({updateProject:e.currentTarget})},a.handleUpdateProjectClose=function(){a.handleCloseMenuClick(null),a.setState({updateProject:null})},a.updateProjectInfo=function(e){a.setState({project:e})};var n=a.props.project;return a.state={anchorEl:null,deleteProject:null,updateProject:null,project:n},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.project,t=this.state,a=t.anchorEl,i=t.deleteProject,o=t.updateProject,c=Boolean(a),l=Boolean(i),s=Boolean(o);return r.a.createElement("div",{className:"col-md-6 col-lg-4 item"},r.a.createElement(h.a,null,r.a.createElement(b.a,{action:r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{"aria-label":"More","aria-owns":c?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleOpenMenuClick},r.a.createElement(E.a,null)),r.a.createElement(D.a,{id:"long-menu",anchorEl:a,open:c,onClose:this.handleCloseMenuClick},r.a.createElement(N.a,{key:"updateItem"},r.a.createElement("span",{onClick:this.handleUpdateProjectClick},"Update Project"),s&&r.a.createElement(K,{type:"Update",onClose:this.handleUpdateProjectClose,projectInfo:this.state.project,updateProjectInfo:this.updateProjectInfo})),r.a.createElement(N.a,{key:"deleteItem"},r.a.createElement("span",{onClick:this.handleDeleteProjectClick},"Delete Project"),l&&r.a.createElement(ne,{project:e,handleDeleteProject:this.handleDeleteProject})))),title:e.projectName,subheader:"created: "+e.createdAt}),r.a.createElement(w.a,null,r.a.createElement(T.a,{to:"/dashboard/".concat(e.projectIdentifier)},r.a.createElement(O.a,{size:"small",color:"primary"},"Dashboard")))))}}]),t}(n.Component),ie=Object(p.withStyles)(function(e){return{}})(re),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleIsProjectDialogActive=function(){a.setState({isProjectDialogActive:!0})},a.handleClose=function(){a.setState({isProjectDialogActive:!1,errors:{},project:new V})},a.handleProjectDelete=function(e){var t=a.state.allProjects,n=e.projectIdentifier;q.a.delete("http://localhost:8080/api/project/".concat(n)).then(function(){var e=t.filter(function(e){return e.projectIdentifier!==n});a.setState({allProjects:e})})},a.updateAllProjects=function(e){a.setState({allProjects:e})},a.state={allProjects:[],project:new V,isProjectDialogActive:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.a.get("http://localhost:8080/api/project").then(function(t){e.setState({allProjects:t.data})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.allProjects;return r.a.createElement("div",{className:"projects"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"All Projects"),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:this.handleIsProjectDialogActive,className:t.createButton,disableRipple:!0},"Create New project"),this.state.isProjectDialogActive&&r.a.createElement(K,{type:"Create",onClose:this.handleClose,allProjects:this.state.allProjects,updateAllProjects:this.updateAllProjects}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("section",{className:"gallery-block grid-gallery"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},a.map(function(t){return r.a.createElement(ie,{key:t.id,project:t,deleteProject:e.handleProjectDelete})}))))))))}}]),t}(n.Component),ce=Object(p.withStyles)(function(e){return{createButton:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:35,padding:"0 30px"}}})(oe),le=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(U.a,{position:"static",className:e.navbar},r.a.createElement(X.a,null,r.a.createElement(Y.a,{variant:"h6",color:"inherit",className:e.grow},"TrellBan"),r.a.createElement(T.a,{to:"/dashboard"},r.a.createElement(O.a,{color:"inherit"},"Dashboard")),r.a.createElement(T.a,{to:"/login"},r.a.createElement(O.a,{color:"inherit"},"Login")),r.a.createElement(T.a,{to:"/register"},r.a.createElement(O.a,{color:"inherit"},"Register")))))}}]),t}(n.Component),se=Object(p.withStyles)(function(e){return{navbar:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px"},grow:{flexGrow:1}}})(le),de=(a(346),a(149),a(347),a(391)),me=a(390),pe=(a(150),a(17)),ue=a(165),he=a(55),fe=a(170),be=a(59),je=a(6),ge=a.n(je),ve=function e(){Object(c.a)(this,e),this.summary="",this.acceptanceCriteria="",this.complexity="",this.priority="",this.createdDate=new Date},Ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleEditTicket=function(){a.setState({readOnlyMode:!a.state.readOnlyMode,diableSaveButton:!a.state.diableSaveButton})},a.handleViewTicketDetailsDialog=function(){a.setState({openTicketDetails:!a.state.openTicketDetails,isDragDisabled:!a.state.isDragDisabled})},a.handleViewPriorityDropDown=function(){a.setState({isDropDownActive:!a.state.isDropDownActive})},a.handleChange=function(e){console.log("event: "+e.target.value),a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=new ve;t.summary=a.state.summary,a.setState({ticket:t});var n={id:a.props.ticket.id,summary:a.state.summary,acceptanceCriteria:a.state.acceptanceCriteria,complexity:a.state.complexity,priority:a.props.ticket.priority};console.log("updated ticket: "+JSON.stringify(n))},a.state={diableSaveButton:!0,readOnlyMode:!0,openTicketDetails:!1,isDragDisabled:!1,isDropDownActive:!1,ticket:new ve},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.ticket;return r.a.createElement(n.Fragment,null,r.a.createElement("span",{onClick:this.handleViewTicketDetailsDialog},a.projectSequence),r.a.createElement(F.a,{open:this.state.openTicketDetails,onClose:this.handleViewTicketDetailsDialog,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm"},r.a.createElement(U.a,{className:t.appBar},r.a.createElement(X.a,null,r.a.createElement(Y.a,{variant:"h6",color:"inherit",className:t.flex},a.projectIdentifier," / ",a.projectSequence),r.a.createElement(O.a,{color:"inherit",onClick:this.handleEditTicket},"Edit Ticket"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(W.a,null,r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",name:"summary",label:"Ticket Summary",type:"text",fullWidth:!0,onChange:this.handleChange,defaultValue:a.summary,variant:"outlined",InputProps:{readOnly:this.state.readOnlyMode}}),r.a.createElement(A.a,{margin:"dense",id:"standard-multiline-static",name:"acceptanceCriteria",label:"Acceptance Criteria",multiline:!0,rows:"4",fullWidth:!0,onChange:this.handleChange,defaultValue:a.acceptanceCriteria,variant:"outlined",InputProps:{readOnly:this.state.readOnlyMode}}),r.a.createElement(A.a,{margin:"dense",id:"complexity",name:"complexity",label:"Ticket Complexity",type:"number",fullWidth:!0,onChange:this.handleChange,defaultValue:a.complexity,variant:"outlined",InputProps:{readOnly:this.state.readOnlyMode}})),r.a.createElement(R.a,null,r.a.createElement(O.a,{onClick:this.handleViewTicketDetailsDialog,color:"primary"},"Close"),r.a.createElement(O.a,{onClick:this.handleViewTicketDetailsDialog,color:"primary",disabled:this.state.diableSaveButton,type:"submit"},"Save Changes")))))}}]),t}(n.Component),ye=Object(p.withStyles)(function(e){return{appBar:{position:"relative",backgroundColor:"#2196F3"},flex:{flex:1},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(Ee),Oe=a(166),ke=a.n(Oe),we=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleOpenDeleteTicketDialog=function(e){e.stopPropagation(),a.setState({isDeleteTicketDiaglogActive:!0})},a.handleCloseDeleteTicketDialog=function(){a.setState({isDeleteTicketDiaglogActive:!1})},a.handleDeleteTicket=function(e){a.handleCloseDeleteTicketDialog(),e.swimLane=a.props.swimLaneId,a.props.removeTicket(e)},a.state={isDeleteTicketDiaglogActive:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.ticket;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{"aria-label":"Delete",size:"small",disableRipple:!0,onClick:this.handleOpenDeleteTicketDialog},r.a.createElement(ke.a,{size:"small",className:t.deletIcon})),r.a.createElement(F.a,{open:this.state.isDeleteTicketDiaglogActive,onClose:this.handleCloseDeleteTicketDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Z.a,{id:"alert-dialog-title"},"Remove Ticket?"),r.a.createElement(W.a,null,r.a.createElement(te.a,{id:"alert-dialog-description"},"Are you sure you want to delete:"," ",r.a.createElement("b",null,this.props.ticket.projectSequence),"?")),r.a.createElement(R.a,null,r.a.createElement(O.a,{onClick:this.handleCloseDeleteTicketDialog,color:"primary"},"No"),r.a.createElement(O.a,{onClick:this.handleDeleteTicket.bind(this,a),color:"primary"},"Yes"))))}}]),t}(n.Component),Ce=Object(p.withStyles)(function(e){return{deletIcon:{fontSize:15}}})(we),De=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.handleDelete=function(e){e.swimLane=a.props.swimLaneId,a.props.removeTicket(e)},a.handleClickOpen=function(e){e.stopPropagation(),a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleEditTicket=function(){a.setState({readOnlyMode:!a.state.readOnlyMode,diableSaveButton:!a.state.diableSaveButton})},a.deleteButton=function(){var e=a.props.ticket;return r.a.createElement(Ce,{ticket:e,removeTicket:a.handleDelete.bind(Object(be.a)(Object(be.a)(a)),e)})},a.handleChange=function(e){a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.openProjectDetailsDialog=function(e){return r.a.createElement(ye,{ticket:e})};var n=a.props.ticket;return a.state={open:!1,isHovering:!1,summary:n.summary,acceptanceCriteria:n.acceptanceCriteria,complexity:n.complexity,priority:n.priority},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ticket,n=t.classes,i=a.priority;return r.a.createElement(he.b,{index:this.props.index,draggableId:this.props.ticket.projectSequence,isDragDisabled:this.state.isDragDisabled},function(t,o){return r.a.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef},t.droppableProps),r.a.createElement(h.a,{className:ge()(n.cards,Object(pe.a)({},n.high,"high"===i),Object(pe.a)({},n.medium,"medium"===i),Object(pe.a)({},n.low,"low"===i)),style:{backgroundColor:o.isDragging?"#F0F2EA":null}},r.a.createElement(b.a,{title:e.openProjectDetailsDialog(a),subheader:e.props.ticket.summary,action:e.deleteButton()})))})}}]),t}(n.Component),Se=Object(p.withStyles)(function(e){return{cards:{marginTop:5,marginBottom:5,borderRadius:1},high:{borderLeft:"3px solid red"},medium:{borderLeft:"3px solid #FF8C19"},low:{borderLeft:"3px solid #42CC00"},deletIcon:{fontSize:15}}})(De),Ne=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUpdate",value:function(e){return e.tickets!==this.props.tickets}},{key:"render",value:function(){var e=this;return this.props.tickets.map(function(t,a){return r.a.createElement(Se,{key:a,ticket:t,index:a,removeTicket:e.props.removeTicket,swimLaneId:e.props.swimLaneId,handleChange:e.props.onChange})})}}]),t}(n.Component),Te=a(102),Pe=a.n(Te),Ie=a(101),xe=a.n(Ie),Ae=a(103),Le=a.n(Ae),Fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleCreateTicketDialog=function(){a.setState({isCreateTicketDialogActive:!a.state.isCreateTicketDialogActive})},a.handleChange=function(e){console.log("event val: "+e.target.value),a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.handleViewDropDownMenu=function(){a.setState({isDropDownActive:!a.state.openDropDown})},a.handleDropDownOpen=function(){a.setState({isDropDownActive:!0})},a.handleDropDownClose=function(){a.setState({isDropDownActive:!1})},a.handleSubmit=function(e){e.preventDefault();var t={summary:a.state.summary,acceptanceCriteria:a.state.acceptanceCriteria,projectIdentifier:a.state.projectIdentifier,priority:a.state.priority,swimLane:a.props.swimLane,complexity:a.state.complexity};a.props.saveNewTicket(t)},a.state={isCreateTicketDialogActive:a.props.isActive,summary:"",acceptanceCriteria:"",projectIdentifier:a.props.projectIdentifier,priority:"",complexity:"",isDropDownActive:!1,swimlane:a.props.swimLane},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(F.a,{open:this.state.isCreateTicketDialogActive,onClose:this.handleCreateTicketDialog},r.a.createElement(U.a,{className:e.appBar},r.a.createElement(X.a,null,r.a.createElement(Y.a,{variant:"h6",color:"inherit",className:e.flex},"Create New Ticket"))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(W.a,null,r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",name:"summary",label:"Summary",type:"text",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(A.a,{id:"standard-multiline-static",name:"acceptanceCriteria",label:"Acceptance Criteria",multiline:!0,rows:"4",margin:"normal",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(A.a,{margin:"dense",id:"complexity",name:"complexity",label:"Complexity (Optional)",type:"number",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(Pe.a,{fullWidth:!0},r.a.createElement(xe.a,{htmlFor:"demo-controlled-open-select"},"Priority (Optional)"),r.a.createElement(Le.a,{open:this.state.isDropDownActive,onClose:this.handleDropDownClose,onOpen:this.handleDropDownOpen,value:this.state.priority,onChange:this.handleChange,inputProps:{name:"priority",id:"demo-controlled-open-select"}},r.a.createElement(N.a,{value:"low"},"Low"),r.a.createElement(N.a,{value:"medium"},"Medium"),r.a.createElement(N.a,{value:"high"},"High")))),r.a.createElement(R.a,null,r.a.createElement(O.a,{onClick:this.handleCreateTicketDialog,color:"primary"},"Cancel"),r.a.createElement(O.a,{onClick:this.handleCreateTicketDialog,color:"primary",type:"submit"},"Create"))))}}]),t}(n.Component),Be=Object(p.withStyles)(function(e){return{appBar:{position:"relative",backgroundColor:"#2196F3"},flex:{flex:1},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(Fe);function Re(){var e=Object(ue.a)(["\n  flex-grow: 1;\n"]);return Re=function(){return e},e}var Me,We=fe.a.div(Re()),Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleIsCreateTicketActive=function(){a.setState({isCreateTicketActive:!a.state.isCreateTicketActive})},a.handleChange=function(e){a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.props.addTicketToSwimLane(e)},a.state={isCreateTicketActive:!1,projectIdentifier:a.props.projectIdentifier},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card--content col-10 col-lg-3"},r.a.createElement("h4",{className:"display-5 text-center title-backlog__border"},this.props.swimLane.title,r.a.createElement("span",{style:{fontSize:11}},"(",this.props.tickets.length,")")),r.a.createElement(O.a,{className:"card-header",onClick:this.handleIsCreateTicketActive,"aria-labelledby":"form-dialog-title",disableRipple:!0,style:{backgroundColor:"#fff",border:"2px solid #e8e3e0",borderRadius:0}},"Add Ticket +"),r.a.createElement("div",{className:"card-vertical-scroll-enabled"},r.a.createElement("div",{className:"text-center"},this.state.isCreateTicketActive&&r.a.createElement(Be,{isActive:this.state.isCreateTicketActive,saveNewTicket:this.handleSubmit,swimLane:this.props.swimLane.title,projectIdentifier:this.state.projectIdentifier})),r.a.createElement(he.c,{droppableId:this.props.swimLane.title},function(t,a){return r.a.createElement(We,Object.assign({ref:t.innerRef},t.droppableProps,{style:{background:a.isDraggingOver?"linear-gradient(#2196f3, 40%,transparent)":null,transition:"0.3s"}}),r.a.createElement(Ne,{tickets:e.props.tickets,removeTicket:e.props.removeTicket,swimLaneId:e.props.swimLane.title,onChange:e.handleChange}),t.placeholder)})))}}]),t}(n.Component),_e=Object(p.withStyles)(function(e){return{ticket:{backgroundColor:"#BFFAFF"}}})(Ve),qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleTicketDelete=function(e){var t=a.state,n=t.projectTickets,r=t.swimLanes,i=e.projectIdentifier,o=e.id;q.a.delete("http://localhost:8080/dashboard/".concat(i,"/").concat(o),{data:e}).then(function(){n[0][e.projectSequence]===e&&delete n[0][e.projectSequence];var t=Object(P.a)(r);t.forEach(function(t){var a=Object.keys(t);if(t[a].title===e.swimLane){var n=t[a].ticketIds.indexOf(e.projectSequence);t[a].ticketIds.splice(n,1)}}),a.setState({projectTickets:n,swimLanes:t})})},a.handleChange=function(e){a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1,errors:{}})},a.handleSubmit=function(e){e.preventDefault();var t={name:a.state.name};q.a.post("http://localhost:8080/dashboard/".concat(a.state.projectIdentifier),t).then(function(e){a.setState({swimLanes:e.data.swimLanes,swimLaneOrder:e.data.swimLaneOrder})}).then(function(){return a.handleClose()}).catch(function(e){a.setState({errors:e.response.data})})},a.handleAddTicket=function(e){q.a.post("http://localhost:8080/dashboard/".concat(e.projectIdentifier,"/").concat(e.swimLane),e).then(function(t){var n=Object(P.a)(a.state.projectTickets);0===n.length?n.push(Object(pe.a)({},Object.keys(t.data)[0].toString(),t.data[Object.keys(t.data)[0].toString()])):n[0][Object.keys(t.data)[0].toString()]=t.data[Object.keys(t.data)[0].toString()];var r=Object(P.a)(a.state.swimLanes),i=a.state.swimLanes.filter(function(t){return Object.keys(t).toString()===e.swimLane});i[0][e.swimLane].ticketIds.push(Object.keys(t.data)[0].toString());var o=r.indexOf(i[0]);r.splice(o,1),r.splice(o,0,i[0]),a.setState({projectTickets:n,swimLanes:r})})},a.onDragEnd=function(e){document.body.style.color="inherit";var t=e.destination,n=e.source,r=e.draggableId;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var i=a.state.swimLanes.filter(function(e){return Object.keys(e)[0]===n.droppableId?e:null}),o=a.state.swimLanes.filter(function(e){return Object.keys(e)[0]===t.droppableId?e:null});if(i[0]===o[0]){var c=i[0][n.droppableId],l=Array.from(c.ticketIds);l.splice(n.index,1),l.splice(t.index,0,r);var s=Object(I.a)({},c,{ticketIds:l}),d=Object(pe.a)({},n.droppableId,s),m=Object(P.a)(a.state.swimLanes),p=m.indexOf(i[0]);m.splice(p,1),m.splice(p,0,d);var u=Object(I.a)({},a.state,{swimLanes:m});return a.setState(u),void a.updateSwimLaneIdOrder(s)}var h=Array.from(i[0][n.droppableId].ticketIds);h.splice(n.index,1);var f=Object(I.a)({},i[0][n.droppableId],{ticketIds:h}),b=Array.from(o[0][t.droppableId].ticketIds);b.splice(t.index,0,r);var j=Object(I.a)({},o[0][t.droppableId],{ticketIds:b}),g=Object(pe.a)({},n.droppableId,f),v=Object(pe.a)({},t.droppableId,j),E=Object(P.a)(a.state.swimLanes),y=E.indexOf(i[0]),O=E.indexOf(o[0]);E.splice(y,1),E.splice(y,0,g),E.splice(O,1),E.splice(O,0,v);var k=Object(I.a)({},a.state,{swimLanes:E});a.setState(k),a.udpateSwimLanesWithNewTickets(f,j)}},a.updateSwimLaneIdOrder=function(e){q.a.patch("http://localhost:8080/dashboard/".concat(a.state.projectIdentifier,"/").concat(e.title),e)},a.udpateSwimLanesWithNewTickets=function(e,t){var n=Array.of(e,t);q.a.patch("http://localhost:8080/dashboard/".concat(a.state.projectIdentifier),n)},a.state={projectTickets:[],swimLanes:[],swimLaneOrder:[],projectIdentifier:e.projectIdentifier,errors:{},open:!1,name:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.a.get("http://localhost:8080/dashboard/".concat(this.state.projectIdentifier)).then(function(t){e.setState({projectTickets:t.data.tickets,swimLanes:t.data.swimLanes,swimLaneOrder:t.data.swimLaneOrder})}).catch(function(t){console.log("error:  "+JSON.stringify(t.response.data.project)),e.setState({errors:{projectError:t.response.data.project}})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.errors;return console.log("error from server: "+this.state.errors.projectError),r.a.createElement("div",{className:"container-fluid"},this.state.errors.projectError&&r.a.createElement("div",{className:"container alert alert-danger text-center"},this.state.errors.projectError),r.a.createElement("section",{className:"card-horizontal-scrollable-container"},r.a.createElement("div",{className:t.swimLane},r.a.createElement(he.a,{onDragEnd:this.onDragEnd,onDragStart:this.onDragStart},this.state.swimLaneOrder.map(function(t,a){var n=e.state.swimLanes[a][t],i=n.ticketIds.map(function(t){return e.state.projectTickets[0][t]});return r.a.createElement(_e,{key:n.title,swimLane:n,tickets:i,projectIdentifier:e.props.projectIdentifier,removeTicket:e.handleTicketDelete,addTicketToSwimLane:e.handleAddTicket})})),r.a.createElement("div",{className:"col-10 col-lg-3"},!this.state.errors.projectError&&r.a.createElement(O.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen,disableRipple:!0},"New Swimlane +"),r.a.createElement(F.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(W.a,null,r.a.createElement(A.a,{autoFocus:!0,margin:"dense",id:"name",name:"name",label:"Swimlane Name",type:"text",fullWidth:!0,onChange:this.handleChange}),a.name&&r.a.createElement("span",{className:t.error},a.name)),r.a.createElement(R.a,null,r.a.createElement(O.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(O.a,{color:"primary",type:"submit"},"Create"))))))))}}]),t}(n.Component),ze=Object(p.withStyles)(function(e){return{createButton:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"},swimLane:{display:"flex",width:"100%"},error:{color:"red",fontSize:12}}})(qe),Ue=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params.projectIdentifier;return r.a.createElement("div",{className:"project"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h5",{className:"display-4 text-center"},"Project Dashboard"),r.a.createElement("hr",null)))),r.a.createElement(ze,{projectIdentifier:e}))}}]),t}(n.Component),Je=(a(383),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("h1",{className:"mt-5 text-white font-weight-light"},"Tellban"),r.a.createElement("p",{className:"lead text-white-50"},"Your Personal Project Management Tool"),r.a.createElement("hr",null),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Login"),r.a.createElement("button",{type:"button",className:"btn btn-success"},"Register"))}}]),t}(n.Component)),Xe=function(e){e?q.a.defaults.headers.common.Authorization=e:delete q.a.defaults.headers.common.Authorization},He=a(79),Ye=a.n(He),Ge=a(25),$e=a(173),Ke="SET_CURRENT_USER",Qe={user:{},validToken:!1},Ze=Object(Ge.c)({security:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ke:return Object(I.a)({},t,{validToken:(e=a.payload,!!e),user:a.payload});default:return t}}}),et={},tt=[$e.a];window.navigator.userAgent.includes("Chrome")?Me=Object(Ge.e)(Ze,et,Object(Ge.d)(Ge.a.apply(void 0,tt),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):(Me=Object(Ge.e)(Ze,et,Object(Ge.d)(Ge.a.apply(void 0,tt))),console.log("not using chrome"));var at=Me,nt=a(389),rt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).setRedirectToDashboard=function(){a.setState({redirectToDashboard:!0})},a.handleChange=function(e){console.log("pass: "+e.target.value),a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password};console.log("new user: "+JSON.stringify(n)),q.a.post("/api/users/login",n).then(function(e){var t=e.data.token;localStorage.setItem("jwt",t),Xe(t);var n=Ye()(t);console.log("decoded : "+JSON.stringify(n)),at.dispatch({type:Ke,payload:n}),a.setRedirectToDashboard()}).catch(function(e){return a.setState({errors:e.response.data})})},a.state={email:"",password:"",errors:{},redirectToDashboard:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container py-5"},this.state.redirectToDashboard&&r.a.createElement(nt.a,{to:"/dashboard"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mx-auto"},r.a.createElement("div",{className:"card rounded-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"mb-0"},"Login")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",autoComplete:"off",id:"formLogin",noValidate:"",onSubmit:this.handleSubmit,method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg rounded-0",name:"email",id:"email",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control form-control-lg rounded-0",name:"password",id:"password",required:!0,autoComplete:"new-password",onChange:this.handleChange}),0!==Object.keys(e).length&&r.a.createElement("div",null,"Email address and password do not match")),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg float-right",id:"btnLogin"},"Login")))))))))}}]),t}(n.Component),it=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(pe.a)({},e.target.name,e.target.value))},a.setRedirect=function(){a.setState({redirectToLogin:!0})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,firstName:t.firstName,lastName:t.lastName,password:t.password,confirmPassword:t.confirmPassword};console.log("new user: "+JSON.stringify(n)),q.a.post("/api/users/register",n).then(function(e){console.log("json here: "+JSON.stringify(e)),a.setRedirect()}).catch(function(e){console.log("json failed: "+JSON.stringify(e.response.data)),a.setState({errors:e.response.data})})},a.state={email:"",firstName:"",lastName:"",password:"",confirmPassword:"",errors:{},redirectToLogin:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container py-5"},this.state.redirectToLogin&&r.a.createElement(nt.a,{to:"/login"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mx-auto"},r.a.createElement("div",{className:"card rounded-0"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"mb-0"},"Register")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",autoComplete:"off",id:"formLogin",noValidate:"",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg rounded-0",name:"firstName",id:"firstName",required:!0,onChange:this.handleChange,method:"POST"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg rounded-0",name:"lastName",id:"lastName",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"email",className:"form-control form-control-lg rounded-0",name:"email",id:"email",required:!0,onChange:this.handleChange}),e.email&&r.a.createElement("div",null,e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control form-control-lg rounded-0",name:"password",id:"password",required:!0,onChange:this.handleChange}),e.password&&r.a.createElement("div",null,e.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password"),r.a.createElement("input",{type:"password",className:"form-control form-control-lg rounded-0",name:"confirmPassword",id:"confirmPassword",required:!0,onChange:this.handleChange}),e.confirmPassword&&r.a.createElement("div",null,e.confirmPassword)),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg float-right",id:"btnLogin"},"Register")))))))))}}]),t}(n.Component),ot=a(175),ct=function(e){var t=e.component,a=e.security,n=Object(ot.a)(e,["component","security"]);return r.a.createElement(me.a,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,n):r.a.createElement(nt.a,{to:"/login"})}}))},lt=a(174),st=localStorage.getItem("jwt");if(st){Xe(st);var dt=Ye()(st);at.dispatch({type:Ke,payload:dt});var mt=Date.now()/1e3;dt.exp<mt&&(localStorage.removeItem("jwt"),Xe(!1),at.dispatch({type:Ke,payload:{}}),window.location.href="/")}var pt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(lt.a,{store:at},r.a.createElement(de.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(se,null),r.a.createElement(me.a,{exact:!0,path:"/",component:Je}),r.a.createElement(me.a,{exact:!0,path:"/login",component:rt}),r.a.createElement(me.a,{exact:!0,path:"/register",component:it}),r.a.createElement(ct,{exact:!0,path:"/dashboard",component:ce,security:!0}),r.a.createElement(ct,{exact:!0,path:"/dashboard/:projectIdentifier",component:Ue}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,1,2]]]);
//# sourceMappingURL=main.050f8c4d.chunk.js.map